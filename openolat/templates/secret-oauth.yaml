{{- if and (.Values.config.oauth.useOauth) (not .Values.secrets.useExternalSecrets) }}
apiVersion: v1
kind: Secret
metadata:
  name: oidc-client
  labels:
    {{- include "openolat.labels" . | nindent 4 }}
type: Opaque
stringData:
  clientId: {{ .Values.config.oauth.clientId }}
  clientSecret: {{ .Values.config.oauth.clientSecret }}
  oidc-ep: {{ .Values.config.oauth.oidcEp }}
{{- end }}